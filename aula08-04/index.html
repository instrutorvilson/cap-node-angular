<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

</head>

<body onload="loadDados()">
    <div class="container">
        <!--
       <div class="card col-4 mt-3">
            <div class="card-body">
                <div class="card-title bg-success text-center">Feijão</div>
                <img class="card-img-top" src="imagens/feijaopreto.webp" />
                <div class="card-text"> Feijão preto... </div>
                <div class="card-footer">R$ 30,00</div>
            </div>
        </div>  
       -->
    </div>

    <script>
        function loadDados() {
            fetch("http://localhost:3000/produtos")
                .then(x => x.text())
                .then(data => displayCard(data))
        }

        function displayCard(y) {
            let listaJson = JSON.parse(y)
            var card = ""
            card += `<div class='card col-4 mt-3'>`
            card += `<div class='card-body'>`
            card += `<div class="card-title bg-success text-center">${listaJson[0].nome}</div>`
            card += `<img class="card-img-top" src="${listaJson[0].imagem}" />`
            card += `<div class="card-text"> ${listaJson[0].descricao} </div>`
            card += `<div class="card-footer">${listaJson[0].preco}</div>`
            card += `</div>`
            card += `</div>`

            document.getElementsByClassName("container")[0].innerHTML = card;
        }
    </script>
</body>

</html>